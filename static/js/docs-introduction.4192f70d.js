(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"./docs/Introduction.mdx":function(e,n,t){"use strict";t.r(n);var i=t("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),a=t("./node_modules/react/index.js"),l=t("./node_modules/@mdx-js/react/dist/index.es.js"),r=t("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),u=t("./node_modules/styled-components/dist/styled-components.browser.esm.js"),c=t("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread.js"),o=t("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js");"undefined"!==typeof State&&State&&State===Object(State)&&Object.isExtensible(State)&&Object.defineProperty(State,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"State",filename:"src/DownscreenContext.ts"}}),"undefined"!==typeof MenuItemsRef&&MenuItemsRef&&MenuItemsRef===Object(MenuItemsRef)&&Object.isExtensible(MenuItemsRef)&&Object.defineProperty(MenuItemsRef,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"MenuItemsRef",filename:"src/DownscreenContext.ts"}});var s={isOpen:!1,selectedIndex:null,highlightedIndex:null,inputValue:"",lastSelectedInputValue:"",lastKey:null};"undefined"!==typeof s&&s&&s===Object(s)&&Object.isExtensible(s)&&Object.defineProperty(s,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"initialState",filename:"src/DownscreenContext.ts"}});var d=a.createContext({state:s,setState:function(){},totalCount:0,id:"",getMenuItemsRef:function(){return{current:{}}}}),b=d;"undefined"!==typeof d&&d&&d===Object(d)&&Object.isExtensible(d)&&Object.defineProperty(d,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"DownscreenContext",filename:"src/DownscreenContext.ts"}});var f=function(e,n){var t=a.useRef(!0);a.useEffect(function(){if(!t.current)return e();t.current=!1},n)},p=f;f&&f===Object(f)&&Object.isExtensible(f)&&Object.defineProperty(f,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"useEffectAfterMount",filename:"src/useEffectAfterMount.ts"}});var m=function(e,n){for(var t=0;t<e;t++)if(n[t])return t;return null},x=m;m&&m===Object(m)&&Object.isExtensible(m)&&Object.defineProperty(m,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"getFirstPossibleIndex",filename:"src/getFirstPossibleIndex.ts"}});var g=function(e,n){for(var t=e-1;t>=0;t--)if(n[t])return t;return null},h=g;g&&g===Object(g)&&Object.isExtensible(g)&&Object.defineProperty(g,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"getLastPossibleIndex",filename:"src/getLastPossibleIndex.ts"}}),"undefined"!==typeof Props&&Props&&Props===Object(Props)&&Object.isExtensible(Props)&&Object.defineProperty(Props,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"Props",filename:"src/Downscreen.tsx"}});var O=function(e){var n=e.children,t=e.onSelect,l=void 0===t?function(){}:t,r=e.initial,u=void 0===r?s:r,d=e.totalCount,f=e.id,m=Object(i.a)(e,["children","onSelect","initial","totalCount","id"]),g=a.useRef({}),O=a.useState(u),j=Object(o.a)(O,2),v=j[0],I=j[1],y=a.useMemo(function(){return{state:v,setState:I,totalCount:d,id:f,getMenuItemsRef:function(){return g}}},[v,d,f]);return p(function(){if(v.isOpen)switch(v.lastKey){case"ArrowUp":I(function(e){return Object(c.a)({},e,{highlightedIndex:h(d,g.current)})});break;case"ArrowDown":I(function(e){return Object(c.a)({},e,{highlightedIndex:x(d,g.current),lastKey:"ArrowDown"})})}},[v.isOpen]),p(function(){l(v.selectedIndex)},[v.selectedIndex]),a.createElement(b.Provider,{value:y},a.createElement("div",Object.assign({id:f,role:"combobox","aria-haspopup":"listbox","aria-expanded":v.isOpen,"aria-controls":v.isOpen?"".concat(f,"-menu"):void 0,"aria-owns":v.isOpen?"".concat(f,"-menu"):void 0,"aria-labelledby":"".concat(f,"-label")},m),n))},j=O;O&&O===Object(O)&&Object.isExtensible(O)&&Object.defineProperty(O,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"Downscreen",filename:"src/Downscreen.tsx"}});var v=function(e){var n=e.key,t=e.keyCode;return t>=37&&t<=40&&0!==n.indexOf("Arrow")?"Arrow".concat(n):n},I=v;v&&v===Object(v)&&Object.isExtensible(v)&&Object.defineProperty(v,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"normalizeArrowKey",filename:"src/normalizeArrowKey.ts"}});var y=function(e,n,t){for(var i=null===e?0:e+1;i<n;i++)if(t[i])return i;return x(n,t)},w=y;y&&y===Object(y)&&Object.isExtensible(y)&&Object.defineProperty(y,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"getNextIndex",filename:"src/getNextIndex.ts"}});var _=function(e,n,t){if(null!==e)for(var i=e-1;i>=0;i--)if(t[i])return i;return h(n,t)},E=_;_&&_===Object(_)&&Object.isExtensible(_)&&Object.defineProperty(_,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"getPreviousIndex",filename:"src/getPreviousIndex.ts"}});var M=function(e){var n=e.children,t=Object(i.a)(e,["children"]),l=a.useContext(b),r=l.state,u=l.setState,o=l.totalCount,s=l.id,d=l.getMenuItemsRef,f=a.useCallback(function(){u(function(e){return Object(c.a)({},e,{isOpen:!1,highlightedIndex:null})})},[]),p=a.useCallback(function(e){e.preventDefault()},[]),m=a.useCallback(function(e){switch(I(e)){case" ":e.preventDefault(),u(function(e){return Object(c.a)({},e,{isOpen:!e.isOpen,highlightedIndex:null,lastKey:" "})});break;case"Enter":r.isOpen&&(e.preventDefault(),u(function(e){return Object(c.a)({},e,{isOpen:!1,selectedIndex:e.highlightedIndex,highlightedIndex:null,lastKey:"Enter"})}));break;case"Escape":e.preventDefault(),u(function(e){return Object(c.a)({},e,{isOpen:!1,highlightedIndex:null,lastKey:"Escape"})});break;case"ArrowUp":e.preventDefault(),r.isOpen?u(function(e){return Object(c.a)({},e,{highlightedIndex:E(r.highlightedIndex,o,d().current),lastKey:"ArrowUp"})}):u(function(e){return Object(c.a)({},e,{isOpen:!0,lastKey:"ArrowUp"})});break;case"ArrowDown":e.preventDefault(),r.isOpen?u(function(e){return Object(c.a)({},e,{highlightedIndex:w(r.highlightedIndex,o,d().current),lastKey:"ArrowDown"})}):u(function(e){return Object(c.a)({},e,{isOpen:!0,lastKey:"ArrowDown"})})}},[o,r.highlightedIndex,r.isOpen]),x=a.useCallback(function(e){e.preventDefault(),e.target.focus(),u(function(e){return Object(c.a)({},e,{isOpen:!e.isOpen})})},[]),g=a.useMemo(function(){return n(r.selectedIndex)},[r.selectedIndex]);return a.createElement("button",Object.assign({"aria-label":r.isOpen?"close menu":"open menu","aria-haspopup":!0,"data-toggle":!0,id:"".concat(s,"-button"),role:"button",type:"button",onBlur:f,onKeyUp:p,onKeyDown:m,onClick:x},t),g)},k=M;M&&M===Object(M)&&Object.isExtensible(M)&&Object.defineProperty(M,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"Button",filename:"src/Button.tsx"}});var C=function(e){var n=e.children,t=Object(i.a)(e,["children"]),l=a.useContext(b),r=l.state,u=l.setState,o=l.totalCount,s=l.id,d=l.getMenuItemsRef,f=a.useCallback(function(e){var n=e.target.value;u(function(e){return Object(c.a)({},e,{isOpen:!0,highlightedIndex:null,inputValue:n})})},[]),m=a.useCallback(function(){u(function(e){return Object(c.a)({},e,{isOpen:!1,highlightedIndex:null,inputValue:e.lastSelectedInputValue})})},[]),x=a.useCallback(function(e){switch(I(e)){case"Enter":r.isOpen&&(e.preventDefault(),u(function(e){return Object(c.a)({},e,{isOpen:!1,selectedIndex:e.highlightedIndex,highlightedIndex:null,lastKey:"Enter"})}));break;case"Escape":e.preventDefault(),u(function(e){return Object(c.a)({},e,{isOpen:!1,highlightedIndex:null,inputValue:e.lastSelectedInputValue,lastKey:"Escape"})});break;case"End":case"ArrowUp":e.preventDefault(),r.isOpen?u(function(e){return Object(c.a)({},e,{highlightedIndex:E(r.highlightedIndex,o,d().current),lastKey:"ArrowUp"})}):u(function(e){return Object(c.a)({},e,{isOpen:!0,lastKey:"ArrowUp"})});break;case"Home":case"ArrowDown":e.preventDefault(),r.isOpen?u(function(e){return Object(c.a)({},e,{highlightedIndex:w(r.highlightedIndex,o,d().current),lastKey:"ArrowDown"})}):u(function(e){return Object(c.a)({},e,{isOpen:!0,lastKey:"ArrowDown"})})}},[o,r.highlightedIndex,r.isOpen]),g=a.useMemo(function(){return n(r.selectedIndex)},[r.selectedIndex]);return p(function(){u(function(e){return Object(c.a)({},e,{inputValue:"string"===typeof g?g:e.inputValue,lastSelectedInputValue:"string"===typeof g?g:e.lastSelectedInputValue})})},[g]),a.createElement("input",Object.assign({"aria-autocomplete":"list","aria-activedescendant":r.isOpen&&null!==r.highlightedIndex?"".concat(s,"-menu-item-").concat(r.highlightedIndex):void 0,"aria-controls":r.isOpen?"".concat(s,"-menu"):void 0,"aria-labelledby":"".concat(s,"-label"),autoComplete:"off",id:"".concat(s,"-input"),type:"text",value:r.inputValue,onChange:f,onBlur:m,onKeyDown:x},t))},D=C;C&&C===Object(C)&&Object.isExtensible(C)&&Object.defineProperty(C,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"Input",filename:"src/Input.tsx"}});var P=function(e){var n=a.useContext(b).id;return a.createElement("label",Object.assign({id:"".concat(n,"-label"),htmlFor:"".concat(n,"-input")},e))},S=P;P&&P===Object(P)&&Object.isExtensible(P)&&Object.defineProperty(P,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"Label",filename:"src/Label.tsx"}});var A=function(e){var n=e.children,t=Object(i.a)(e,["children"]),l=a.useContext(b),r=l.state,u=l.totalCount,c=l.id,o=a.useMemo(function(){return Array.from({length:u},function(e,t){return n({index:t,selectedIndex:r.selectedIndex,highlightedIndex:r.highlightedIndex,inputValue:r.inputValue})})},[r.selectedIndex,r.highlightedIndex,r.inputValue]);return r.isOpen?a.createElement("div",Object.assign({id:"".concat(c,"-menu"),role:"listbox"},t),o):null},K=A;A&&A===Object(A)&&Object.isExtensible(A)&&Object.defineProperty(A,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"Menu",filename:"src/Menu.tsx"}});var L=t("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),R=t("./node_modules/scroll-into-view-if-needed/es/index.js"),N=function(e){var n=e.index,t=e.children,l=Object(i.a)(e,["index","children"]),r=a.useContext(b),u=r.state,o=r.setState,s=r.id,d=r.getMenuItemsRef,f=a.useRef(!0),p=a.useRef(null);a.useEffect(function(){return d().current=Object(c.a)({},d().current,Object(L.a)({},n,!0)),function(){d().current=Object(c.a)({},d().current,Object(L.a)({},n,!1))}},[]),a.useEffect(function(){u.highlightedIndex===n&&f.current&&p.current&&Object(R.a)(p.current,{scrollMode:"if-needed",block:"nearest",inline:"nearest"}),f.current||(f.current=!0)},[u.highlightedIndex,n]);var m=a.useCallback(function(){o(function(e){return Object(c.a)({},e,{selectedIndex:n,isOpen:!1})})},[n]),x=a.useCallback(function(){u.highlightedIndex!==n&&(f.current=!1,o(function(e){return Object(c.a)({},e,{highlightedIndex:n})}))},[u.highlightedIndex,n]),g=a.useCallback(function(e){e.preventDefault()},[]);return a.createElement("div",Object.assign({ref:p,"aria-selected":u.highlightedIndex===n,id:"".concat(s,"-menu-item-").concat(n),role:"option",onClick:m,onMouseMove:x,onMouseDown:g},l),t)},V=N;N&&N===Object(N)&&Object.isExtensible(N)&&Object.defineProperty(N,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"MenuItem",filename:"src/MenuItem.tsx"}});var B=j;function U(){var e=Object(r.a)(["\n  background: ",";\n  color: palevioletred;\n  cursor: pointer;\n  font-size: 16px;\n  font-weight: ",";\n  padding: 8px 16px;\n"]);return U=function(){return e},e}function q(){var e=Object(r.a)(["\n  background: white;\n  box-shadow: 0px 8px 16px 0px lightgray;\n  position: absolute;\n  width: 240px;\n  z-index: 1000;\n"]);return q=function(){return e},e}function z(){var e=Object(r.a)(["\n  display: block;\n  font-size: 16px;\n  font-weight: bold;\n  margin: 0 0 8px;\n  width: 240px;\n"]);return z=function(){return e},e}function Q(){var e=Object(r.a)(["\n  background: white;\n  border: 1px solid orange;\n  border-radius: 3px;\n  color: orange;\n  font-size: 16px;\n  padding: 4px 8px;\n  width: 222px;\n\n  &:focus {\n    box-shadow: 0 0 0 3px lightblue, 0 0 0 1.5px lightblue;\n    outline: none;\n  }\n"]);return Q=function(){return e},e}function T(){var e=Object(r.a)(["\n  background: white;\n  border-radius: 3px;\n  border: 2px solid orange;\n  color: orange;\n  cursor: pointer;\n  font-size: 16px;\n  padding: 4px 16px;\n  width: 240px;\n\n  &:focus {\n    box-shadow: 0 0 0 3px lightblue, 0 0 0 1.5px lightblue;\n    outline: none;\n  }\n"]);return T=function(){return e},e}"undefined"!==typeof j&&j&&j===Object(j)&&Object.isExtensible(j)&&Object.defineProperty(j,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"__DOCZ_DUMMY_EXPORT_DEFAULT",filename:"src/index.ts"}}),"undefined"!==typeof Button&&Button&&Button===Object(Button)&&Object.isExtensible(Button)&&Object.defineProperty(Button,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"Button",filename:"src/index.ts"}}),"undefined"!==typeof Input&&Input&&Input===Object(Input)&&Object.isExtensible(Input)&&Object.defineProperty(Input,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"Input",filename:"src/index.ts"}}),"undefined"!==typeof Label&&Label&&Label===Object(Label)&&Object.isExtensible(Label)&&Object.defineProperty(Label,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"Label",filename:"src/index.ts"}}),"undefined"!==typeof Menu&&Menu&&Menu===Object(Menu)&&Object.isExtensible(Menu)&&Object.defineProperty(Menu,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"Menu",filename:"src/index.ts"}}),"undefined"!==typeof MenuItem&&MenuItem&&MenuItem===Object(MenuItem)&&Object.isExtensible(MenuItem)&&Object.defineProperty(MenuItem,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"MenuItem",filename:"src/index.ts"}});var W=[{id:"1",value:"apple"},{id:"2",value:"banana"},{id:"3",value:"pear"},{id:"4",value:"watermelon"},{id:"5",value:"lemon"},{id:"6",value:"orange"},{id:"7",value:"dragonfruit"},{id:"8",value:"papaya"}],F=Object(u.d)(k)(T()),X=Object(u.d)(D)(Q()),H=Object(u.d)(S)(z()),J=Object(u.d)(K)(q()),Y=Object(u.d)(V)(U(),function(e){return e.highlighted?"lightgray":"white"},function(e){return e.selected?"bold":"normal"}),Z=function(){return a.createElement(B,{onSelect:console.log,totalCount:W.length,id:"quick-button-example"},a.createElement(F,null,function(e){return null===e?"(nothing)":W[e].value}),a.createElement(J,null,function(e){var n=e.index,t=e.selectedIndex,i=e.highlightedIndex;return a.createElement(Y,{key:W[n].id,index:n,selected:t===n,highlighted:i===n},W[n].value)}))};"undefined"!==typeof Z&&Z&&Z===Object(Z)&&Object.isExtensible(Z)&&Object.defineProperty(Z,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"QuickButtonExample",filename:"src/docs/QuickExamples.tsx"}});var G=function(){return a.createElement(B,{onSelect:console.log,totalCount:W.length,id:"quick-input-example"},a.createElement(H,null,"Select:"),a.createElement(X,null,function(e){return null===e?null:W[e].value}),a.createElement(J,null,function(e){var n=e.index,t=e.selectedIndex,i=e.highlightedIndex,l=e.inputValue;return W[n].value.toLowerCase().includes(l.toLowerCase())&&a.createElement(Y,{key:W[n].id,index:n,selected:t===n,highlighted:i===n},W[n].value)}))};"undefined"!==typeof G&&G&&G===Object(G)&&Object.isExtensible(G)&&Object.defineProperty(G,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"QuickInputExample",filename:"src/docs/QuickExamples.tsx"}}),t.d(n,"default",function(){return ne});var $={},ee="wrapper";function ne(e){var n=e.components,t=Object(i.a)(e,["components"]);return Object(l.b)(ee,Object.assign({},$,t,{components:n,mdxType:"MDXLayout"}),Object(l.b)("h1",{id:"introduction"},"Introduction"),Object(l.b)("p",null,Object(l.b)("strong",{parentName:"p"},"React Downscreen \u26f9\ufe0f")," - A simple framework for building accessibility-friendly selects, dropdowns, autocompletes, and comboboxes in React. Heavily inspired by ",Object(l.b)("a",Object.assign({parentName:"p"},{href:"https://github.com/downshift-js/downshift"}),"the excellent library Downshift"),"."),Object(l.b)("h2",{id:"install"},"Install"),Object(l.b)("blockquote",null,Object(l.b)("p",{parentName:"blockquote"},"Note: React 16.8+ is required.")),Object(l.b)("h3",{id:"with-npm"},"With ",Object(l.b)("inlineCode",{parentName:"h3"},"npm")),Object(l.b)("pre",null,Object(l.b)("code",Object.assign({parentName:"pre"},{className:"language-sh"}),"npm i react-downscreen\n")),Object(l.b)("h3",{id:"with-yarn"},"With ",Object(l.b)("inlineCode",{parentName:"h3"},"yarn")),Object(l.b)("pre",null,Object(l.b)("code",Object.assign({parentName:"pre"},{className:"language-sh"}),"yarn add react-downscreen\n")),Object(l.b)("h2",{id:"quick-examples"},"Quick Examples"),Object(l.b)(Z,{mdxType:"QuickButtonExample"}),Object(l.b)("br",null),Object(l.b)(G,{mdxType:"QuickInputExample"}),Object(l.b)("pre",null,Object(l.b)("code",Object.assign({parentName:"pre"},{className:"language-js"}),"import * as React from 'react';\nimport Downscreen, {\n  Button,\n  Input,\n  Label,\n  Menu,\n  MenuItem,\n} from 'react-downscreen';\n")),Object(l.b)("pre",null,Object(l.b)("code",Object.assign({parentName:"pre"},{className:"language-js"}),"const items = [\n  {\n    id: '1',\n    value: 'apple',\n  },\n  {\n    id: '2',\n    value: 'banana',\n  },\n  {\n    id: '3',\n    value: 'pear',\n  },\n  {\n    id: '4',\n    value: 'watermelon',\n  },\n  {\n    id: '5',\n    value: 'lemon',\n  },\n  {\n    id: '6',\n    value: 'orange',\n  },\n  {\n    id: '7',\n    value: 'dragonfruit',\n  },\n  {\n    id: '8',\n    value: 'papaya',\n  },\n];\n")),Object(l.b)("pre",null,Object(l.b)("code",Object.assign({parentName:"pre"},{className:"language-jsx"}),"<Downscreen\n  onSelect={console.log}\n  totalCount={items.length}\n  id=\"quick-button-example\"\n>\n  <Button>\n    {selectedIndex =>\n      selectedIndex === null ? '(nothing)' : items[selectedIndex].value\n    }\n  </Button>\n  <Menu>\n    {({ index, selectedIndex, highlightedIndex }) => (\n      <MenuItem\n        key={items[index].id}\n        index={index}\n        style={{\n          background: highlightedIndex === index ? 'lightgray' : 'white',\n          fontWeight: selectedIndex === index ? 'bold' : 'normal',\n        }}\n      >\n        {items[index].value}\n      </MenuItem>\n    )}\n  </Menu>\n</Downscreen>\n")),Object(l.b)("pre",null,Object(l.b)("code",Object.assign({parentName:"pre"},{className:"language-jsx"}),"<Downscreen\n  onSelect={console.log}\n  totalCount={items.length}\n  id=\"quick-input-example\"\n>\n  <Label>Select:</Label>\n  <Input>\n    {selectedIndex =>\n      selectedIndex === null ? null : items[selectedIndex].value\n    }\n  </Input>\n  <Menu>\n    {({ index, selectedIndex, highlightedIndex, inputValue }) =>\n      items[index].value.toLowerCase().includes(inputValue.toLowerCase()) && (\n        <MenuItem\n          key={items[index].id}\n          index={index}\n          style={{\n            background: highlightedIndex === index ? 'lightgray' : 'white',\n            fontWeight: selectedIndex === index ? 'bold' : 'normal',\n          }}\n        >\n          {items[index].value}\n        </MenuItem>\n      )\n    }\n  </Menu>\n</Downscreen>\n")))}ne&&ne===Object(ne)&&Object.isExtensible(ne)&&Object.defineProperty(ne,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"MDXContent",filename:"docs/Introduction.mdx"}}),ne.isMDXComponent=!0}}]);
//# sourceMappingURL=docs-introduction.c1ff6e25f2aa74e962c4.js.map