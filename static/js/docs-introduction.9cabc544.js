(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"./docs/Introduction.mdx":function(e,n,t){"use strict";t.r(n);var l=t("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),i=t("./node_modules/react/index.js"),a=t("./node_modules/@mdx-js/react/dist/index.es.js"),r=t("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),u=t("./node_modules/styled-components/dist/styled-components.browser.esm.js"),c=t("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread.js"),o=t("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js");"undefined"!==typeof State&&State&&State===Object(State)&&Object.isExtensible(State)&&Object.defineProperty(State,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"State",filename:"src/DownscreenContext.ts"}}),"undefined"!==typeof MenuItemsRef&&MenuItemsRef&&MenuItemsRef===Object(MenuItemsRef)&&Object.isExtensible(MenuItemsRef)&&Object.defineProperty(MenuItemsRef,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"MenuItemsRef",filename:"src/DownscreenContext.ts"}});var s={isOpen:!1,selectedIndex:null,highlightedIndex:null,inputValue:"",lastSelectedInputValue:null,lastKeyOnClose:null};"undefined"!==typeof s&&s&&s===Object(s)&&Object.isExtensible(s)&&Object.defineProperty(s,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"initialState",filename:"src/DownscreenContext.ts"}});var d=i.createContext({state:s,setState:function(){},totalCount:0,id:"",getMenuItemsRef:function(){return{current:{}}}}),b=d;"undefined"!==typeof d&&d&&d===Object(d)&&Object.isExtensible(d)&&Object.defineProperty(d,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"DownscreenContext",filename:"src/DownscreenContext.ts"}});var p=function(e,n){var t=i.useRef(!0);i.useEffect(function(){if(!t.current)return e();t.current=!1},n)},f=p;p&&p===Object(p)&&Object.isExtensible(p)&&Object.defineProperty(p,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"useEffectAfterMount",filename:"src/useEffectAfterMount.ts"}});var m=function(e,n){for(var t=0;t<e;t++)if(n[t])return t;return null},x=m;m&&m===Object(m)&&Object.isExtensible(m)&&Object.defineProperty(m,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"getFirstPossibleIndex",filename:"src/getFirstPossibleIndex.ts"}});var g=function(e,n){for(var t=e-1;t>=0;t--)if(n[t])return t;return null},h=g;g&&g===Object(g)&&Object.isExtensible(g)&&Object.defineProperty(g,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"getLastPossibleIndex",filename:"src/getLastPossibleIndex.ts"}}),"undefined"!==typeof Props&&Props&&Props===Object(Props)&&Object.isExtensible(Props)&&Object.defineProperty(Props,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"Props",filename:"src/Downscreen.tsx"}});var O=function(e){var n=e.children,t=e.onSelect,l=void 0===t?function(){}:t,a=e.initial,r=void 0===a?s:a,u=e.totalCount,d=e.id,p=e.className,m=e.style,g=i.useRef({}),O=i.useState(r),j=Object(o.a)(O,2),I=j[0],v=j[1],y=i.useMemo(function(){return{state:I,setState:v,totalCount:u,id:d,getMenuItemsRef:function(){return g}}},[I,u,d]);return f(function(){if(I.isOpen)switch(I.lastKeyOnClose){case"ArrowUp":v(function(e){return Object(c.a)({},e,{highlightedIndex:h(u,g.current),lastKeyOnClose:null})});break;case"ArrowDown":v(function(e){return Object(c.a)({},e,{highlightedIndex:x(u,g.current),lastKeyOnClose:null})})}},[I.isOpen]),f(function(){l(I.selectedIndex)},[I.selectedIndex]),i.createElement(b.Provider,{value:y},i.createElement("div",{id:d,role:"combobox","aria-haspopup":"listbox","aria-expanded":I.isOpen,"aria-controls":I.isOpen?"".concat(d,"-menu"):void 0,"aria-owns":I.isOpen?"".concat(d,"-menu"):void 0,"aria-labelledby":"".concat(d,"-label"),className:p,style:m},n))},j=O;O&&O===Object(O)&&Object.isExtensible(O)&&Object.defineProperty(O,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"Downscreen",filename:"src/Downscreen.tsx"}});var I=function(e){var n=e.key,t=e.keyCode;return t>=37&&t<=40&&0!==n.indexOf("Arrow")?"Arrow".concat(n):n},v=I;I&&I===Object(I)&&Object.isExtensible(I)&&Object.defineProperty(I,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"normalizeArrowKey",filename:"src/normalizeArrowKey.ts"}});var y=function(e,n,t){for(var l=null===e?0:e+1;l<n;l++)if(t[l])return l;return x(n,t)},w=y;y&&y===Object(y)&&Object.isExtensible(y)&&Object.defineProperty(y,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"getNextIndex",filename:"src/getNextIndex.ts"}});var _=function(e,n,t){if(null!==e)for(var l=e-1;l>=0;l--)if(t[l])return l;return h(n,t)},E=_;_&&_===Object(_)&&Object.isExtensible(_)&&Object.defineProperty(_,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"getPreviousIndex",filename:"src/getPreviousIndex.ts"}});var M=function(e){var n=e.children,t=Object(l.a)(e,["children"]),a=i.useContext(b),r=a.state,u=a.setState,o=a.totalCount,s=a.id,d=a.getMenuItemsRef,p=i.useCallback(function(){u(function(e){return Object(c.a)({},e,{isOpen:!1,highlightedIndex:null})})},[]),f=i.useCallback(function(e){e.preventDefault()},[]),m=i.useCallback(function(e){switch(v(e)){case" ":e.preventDefault(),u(function(e){return Object(c.a)({},e,{isOpen:!e.isOpen,highlightedIndex:null})});break;case"Enter":r.isOpen&&(e.preventDefault(),u(function(e){return Object(c.a)({},e,{isOpen:!1,selectedIndex:null===e.highlightedIndex?e.selectedIndex:e.highlightedIndex,highlightedIndex:null})}));break;case"Escape":e.preventDefault(),u(function(e){return Object(c.a)({},e,{isOpen:!1,selectedIndex:null,highlightedIndex:null,inputValue:"",lastSelectedInputValue:null})});break;case"ArrowUp":e.preventDefault(),r.isOpen?u(function(e){return Object(c.a)({},e,{highlightedIndex:E(e.highlightedIndex,o,d().current)})}):u(function(e){return Object(c.a)({},e,{isOpen:!0,lastKeyOnClose:"ArrowUp"})});break;case"ArrowDown":e.preventDefault(),r.isOpen?u(function(e){return Object(c.a)({},e,{highlightedIndex:w(e.highlightedIndex,o,d().current)})}):u(function(e){return Object(c.a)({},e,{isOpen:!0,lastKeyOnClose:"ArrowDown"})})}},[o,r.highlightedIndex,r.isOpen]),x=i.useCallback(function(e){e.preventDefault(),e.target.focus(),u(function(e){return Object(c.a)({},e,{isOpen:!e.isOpen})})},[]),g=i.useMemo(function(){return n(r.selectedIndex)},[r.selectedIndex]);return i.createElement("button",Object.assign({"aria-label":r.isOpen?"close menu":"open menu","aria-haspopup":!0,"data-toggle":!0,id:"".concat(s,"-button"),role:"button",type:"button",onBlur:p,onKeyUp:f,onKeyDown:m,onClick:x},t),g)},C=M;M&&M===Object(M)&&Object.isExtensible(M)&&Object.defineProperty(M,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"Button",filename:"src/Button.tsx"}});var k=function(e){var n=e.children,t=Object(l.a)(e,["children"]),a=i.useContext(b),r=a.state,u=a.setState,o=a.totalCount,s=a.id,d=a.getMenuItemsRef,p=i.useCallback(function(e){var n=e.target.value;u(function(e){return Object(c.a)({},e,{isOpen:!0,highlightedIndex:null,inputValue:n})})},[]),m=i.useCallback(function(){u(function(e){return Object(c.a)({},e,{isOpen:!1,highlightedIndex:null,inputValue:"string"===typeof e.lastSelectedInputValue?e.lastSelectedInputValue:e.inputValue})})},[]),x=i.useCallback(function(e){switch(v(e)){case"Enter":r.isOpen&&(e.preventDefault(),u(function(e){return Object(c.a)({},e,{isOpen:!1,selectedIndex:null===e.highlightedIndex?e.selectedIndex:e.highlightedIndex,highlightedIndex:null,inputValue:"string"===typeof e.lastSelectedInputValue&&e.selectedIndex===e.highlightedIndex?e.lastSelectedInputValue:e.inputValue})}));break;case"Escape":e.preventDefault(),u(function(e){return Object(c.a)({},e,{isOpen:!1,selectedIndex:null,highlightedIndex:null,inputValue:"",lastSelectedInputValue:null})});break;case"End":case"ArrowUp":e.preventDefault(),r.isOpen?u(function(e){return Object(c.a)({},e,{highlightedIndex:E(e.highlightedIndex,o,d().current)})}):u(function(e){return Object(c.a)({},e,{isOpen:!0,lastKeyOnClose:"ArrowUp"})});break;case"Home":case"ArrowDown":e.preventDefault(),r.isOpen?u(function(e){return Object(c.a)({},e,{highlightedIndex:w(e.highlightedIndex,o,d().current)})}):u(function(e){return Object(c.a)({},e,{isOpen:!0,lastKeyOnClose:"ArrowDown"})})}},[o,r.highlightedIndex,r.isOpen]),g=i.useMemo(function(){return n(r.selectedIndex)},[r.selectedIndex]);return f(function(){u(function(e){return Object(c.a)({},e,{inputValue:"string"===typeof g?g:e.inputValue,lastSelectedInputValue:"string"===typeof g?g:e.lastSelectedInputValue})})},[g]),i.createElement("input",Object.assign({"aria-autocomplete":"list","aria-activedescendant":r.isOpen&&null!==r.highlightedIndex?"".concat(s,"-menu-item-").concat(r.highlightedIndex):void 0,"aria-controls":r.isOpen?"".concat(s,"-menu"):void 0,"aria-labelledby":"".concat(s,"-label"),autoComplete:"off",id:"".concat(s,"-input"),type:"text",value:r.inputValue,onChange:p,onBlur:m,onKeyDown:x},t))},P=k;k&&k===Object(k)&&Object.isExtensible(k)&&Object.defineProperty(k,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"Input",filename:"src/Input.tsx"}});var D=function(e){var n=i.useContext(b).id;return i.createElement("label",Object.assign({id:"".concat(n,"-label"),htmlFor:"".concat(n,"-input")},e))},S=D;D&&D===Object(D)&&Object.isExtensible(D)&&Object.defineProperty(D,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"Label",filename:"src/Label.tsx"}});var V=function(e){var n=e.children,t=Object(l.a)(e,["children"]),a=i.useContext(b),r=a.state,u=a.totalCount,c=a.id,o=i.useMemo(function(){return Array.from({length:u},function(e,t){return n({index:t,selectedIndex:r.selectedIndex,highlightedIndex:r.highlightedIndex,inputValue:r.inputValue})})},[r.selectedIndex,r.highlightedIndex,r.inputValue]);return r.isOpen?i.createElement("div",Object.assign({id:"".concat(c,"-menu"),role:"listbox"},t),o):null},N=V;V&&V===Object(V)&&Object.isExtensible(V)&&Object.defineProperty(V,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"Menu",filename:"src/Menu.tsx"}});var L=t("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),R=t("./node_modules/scroll-into-view-if-needed/es/index.js"),A=function(e){var n=e.index,t=e.children,a=Object(l.a)(e,["index","children"]),r=i.useContext(b),u=r.state,o=r.setState,s=r.id,d=r.getMenuItemsRef,p=i.useRef(!0),f=i.useRef(null);i.useEffect(function(){return d().current=Object(c.a)({},d().current,Object(L.a)({},n,!0)),function(){d().current=Object(c.a)({},d().current,Object(L.a)({},n,!1))}},[]),i.useEffect(function(){u.highlightedIndex===n&&p.current&&f.current&&Object(R.a)(f.current,{scrollMode:"if-needed",block:"nearest",inline:"nearest"}),p.current||(p.current=!0)},[u.highlightedIndex,n]);var m=i.useCallback(function(){o(function(e){return Object(c.a)({},e,{isOpen:!1,selectedIndex:n,highlightedIndex:null,inputValue:"string"===typeof e.lastSelectedInputValue&&e.selectedIndex===e.highlightedIndex?e.lastSelectedInputValue:e.inputValue})})},[n]),x=i.useCallback(function(){u.highlightedIndex!==n&&(p.current=!1,o(function(e){return Object(c.a)({},e,{highlightedIndex:n})}))},[u.highlightedIndex,n]),g=i.useCallback(function(e){e.preventDefault()},[]);return i.createElement("div",Object.assign({ref:f,"aria-selected":u.highlightedIndex===n,id:"".concat(s,"-menu-item-").concat(n),role:"option",onClick:m,onMouseMove:x,onMouseDown:g},a),t)},B=A;A&&A===Object(A)&&Object.isExtensible(A)&&Object.defineProperty(A,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"MenuItem",filename:"src/MenuItem.tsx"}});var K=j;function q(){var e=Object(r.a)(["\n  background: ",";\n  color: palevioletred;\n  cursor: pointer;\n  font-size: 16px;\n  font-weight: ",";\n  padding: 8px 16px;\n"]);return q=function(){return e},e}function U(){var e=Object(r.a)(["\n  background: white;\n  box-shadow: 0px 8px 16px 0px lightgray;\n  position: absolute;\n  width: 240px;\n  z-index: 1000;\n"]);return U=function(){return e},e}function z(){var e=Object(r.a)(["\n  display: block;\n  font-size: 16px;\n  font-weight: bold;\n  margin: 0 0 8px;\n  width: 240px;\n"]);return z=function(){return e},e}function Q(){var e=Object(r.a)(["\n  background: white;\n  border: 1px solid orange;\n  border-radius: 3px;\n  color: orange;\n  font-size: 16px;\n  padding: 4px 8px;\n  width: 222px;\n\n  &:focus {\n    box-shadow: 0 0 0 3px lightblue, 0 0 0 1.5px lightblue;\n    outline: none;\n  }\n"]);return Q=function(){return e},e}function T(){var e=Object(r.a)(["\n  background: white;\n  border-radius: 3px;\n  border: 2px solid orange;\n  color: orange;\n  cursor: pointer;\n  font-size: 16px;\n  padding: 4px 16px;\n  width: 240px;\n\n  &:focus {\n    box-shadow: 0 0 0 3px lightblue, 0 0 0 1.5px lightblue;\n    outline: none;\n  }\n"]);return T=function(){return e},e}"undefined"!==typeof j&&j&&j===Object(j)&&Object.isExtensible(j)&&Object.defineProperty(j,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"__DOCZ_DUMMY_EXPORT_DEFAULT",filename:"src/index.ts"}}),"undefined"!==typeof Button&&Button&&Button===Object(Button)&&Object.isExtensible(Button)&&Object.defineProperty(Button,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"Button",filename:"src/index.ts"}}),"undefined"!==typeof Input&&Input&&Input===Object(Input)&&Object.isExtensible(Input)&&Object.defineProperty(Input,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"Input",filename:"src/index.ts"}}),"undefined"!==typeof Label&&Label&&Label===Object(Label)&&Object.isExtensible(Label)&&Object.defineProperty(Label,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"Label",filename:"src/index.ts"}}),"undefined"!==typeof Menu&&Menu&&Menu===Object(Menu)&&Object.isExtensible(Menu)&&Object.defineProperty(Menu,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"Menu",filename:"src/index.ts"}}),"undefined"!==typeof MenuItem&&MenuItem&&MenuItem===Object(MenuItem)&&Object.isExtensible(MenuItem)&&Object.defineProperty(MenuItem,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"MenuItem",filename:"src/index.ts"}});var W=[{id:"1",value:"apple"},{id:"2",value:"banana"},{id:"3",value:"pear"},{id:"4",value:"watermelon"},{id:"5",value:"lemon"},{id:"6",value:"orange"},{id:"7",value:"dragonfruit"},{id:"8",value:"papaya"}],F=Object(u.d)(C)(T()),X=Object(u.d)(P)(Q()),H=Object(u.d)(S)(z()),J=Object(u.d)(N)(U()),Y=Object(u.d)(B)(q(),function(e){return e.highlighted?"lightgray":"white"},function(e){return e.selected?"bold":"normal"}),Z=function(){return i.createElement(K,{onSelect:console.log,totalCount:W.length,id:"quick-button-example"},i.createElement(F,null,function(e){return null===e?"(nothing)":W[e].value}),i.createElement(J,null,function(e){var n=e.index,t=e.selectedIndex,l=e.highlightedIndex;return i.createElement(Y,{key:W[n].id,index:n,selected:t===n,highlighted:l===n},W[n].value)}))};"undefined"!==typeof Z&&Z&&Z===Object(Z)&&Object.isExtensible(Z)&&Object.defineProperty(Z,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"QuickButtonExample",filename:"src/docs/QuickExamples.tsx"}});var G=function(){return i.createElement(K,{onSelect:console.log,totalCount:W.length,id:"quick-input-example"},i.createElement(H,null,"Select:"),i.createElement(X,null,function(e){return null===e?null:W[e].value}),i.createElement(J,null,function(e){var n=e.index,t=e.selectedIndex,l=e.highlightedIndex,a=e.inputValue;return W[n].value.toLowerCase().includes(a.toLowerCase())&&i.createElement(Y,{key:W[n].id,index:n,selected:t===n,highlighted:l===n},W[n].value)}))};"undefined"!==typeof G&&G&&G===Object(G)&&Object.isExtensible(G)&&Object.defineProperty(G,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"QuickInputExample",filename:"src/docs/QuickExamples.tsx"}}),t.d(n,"default",function(){return ne});var $={},ee="wrapper";function ne(e){var n=e.components,t=Object(l.a)(e,["components"]);return Object(a.b)(ee,Object.assign({},$,t,{components:n,mdxType:"MDXLayout"}),Object(a.b)("h1",{id:"introduction"},"Introduction"),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"React Downscreen \u26f9\ufe0f")," - A simple framework for building accessibility-friendly selects, dropdowns, autocompletes, and comboboxes in React. Heavily inspired by ",Object(a.b)("a",Object.assign({parentName:"p"},{href:"https://github.com/downshift-js/downshift"}),"the excellent library Downshift"),"."),Object(a.b)("h2",{id:"install"},"Install"),Object(a.b)("blockquote",null,Object(a.b)("p",{parentName:"blockquote"},"Note: React 16.8+ is required.")),Object(a.b)("h3",{id:"with-npm"},"With ",Object(a.b)("inlineCode",{parentName:"h3"},"npm")),Object(a.b)("pre",null,Object(a.b)("code",Object.assign({parentName:"pre"},{className:"language-sh"}),"npm i react-downscreen\n")),Object(a.b)("h3",{id:"with-yarn"},"With ",Object(a.b)("inlineCode",{parentName:"h3"},"yarn")),Object(a.b)("pre",null,Object(a.b)("code",Object.assign({parentName:"pre"},{className:"language-sh"}),"yarn add react-downscreen\n")),Object(a.b)("h2",{id:"quick-examples"},"Quick Examples"),Object(a.b)(Z,{mdxType:"QuickButtonExample"}),Object(a.b)("br",null),Object(a.b)(G,{mdxType:"QuickInputExample"}),Object(a.b)("pre",null,Object(a.b)("code",Object.assign({parentName:"pre"},{className:"language-js"}),"import * as React from 'react';\nimport Downscreen, {\n  Button,\n  Input,\n  Label,\n  Menu,\n  MenuItem,\n} from 'react-downscreen';\n")),Object(a.b)("pre",null,Object(a.b)("code",Object.assign({parentName:"pre"},{className:"language-js"}),"const items = [\n  {\n    id: '1',\n    value: 'apple',\n  },\n  {\n    id: '2',\n    value: 'banana',\n  },\n  {\n    id: '3',\n    value: 'pear',\n  },\n  {\n    id: '4',\n    value: 'watermelon',\n  },\n  {\n    id: '5',\n    value: 'lemon',\n  },\n  {\n    id: '6',\n    value: 'orange',\n  },\n  {\n    id: '7',\n    value: 'dragonfruit',\n  },\n  {\n    id: '8',\n    value: 'papaya',\n  },\n];\n")),Object(a.b)("pre",null,Object(a.b)("code",Object.assign({parentName:"pre"},{className:"language-jsx"}),"<Downscreen\n  onSelect={console.log}\n  totalCount={items.length}\n  id=\"quick-button-example\"\n>\n  <Button>\n    {selectedIndex =>\n      selectedIndex === null ? '(nothing)' : items[selectedIndex].value\n    }\n  </Button>\n  <Menu>\n    {({ index, selectedIndex, highlightedIndex }) => (\n      <MenuItem\n        key={items[index].id}\n        index={index}\n        style={{\n          background: highlightedIndex === index ? 'lightgray' : 'white',\n          fontWeight: selectedIndex === index ? 'bold' : 'normal',\n        }}\n      >\n        {items[index].value}\n      </MenuItem>\n    )}\n  </Menu>\n</Downscreen>\n")),Object(a.b)("pre",null,Object(a.b)("code",Object.assign({parentName:"pre"},{className:"language-jsx"}),"<Downscreen\n  onSelect={console.log}\n  totalCount={items.length}\n  id=\"quick-input-example\"\n>\n  <Label>Select:</Label>\n  <Input>\n    {selectedIndex =>\n      selectedIndex === null ? null : items[selectedIndex].value\n    }\n  </Input>\n  <Menu>\n    {({ index, selectedIndex, highlightedIndex, inputValue }) =>\n      items[index].value.toLowerCase().includes(inputValue.toLowerCase()) && (\n        <MenuItem\n          key={items[index].id}\n          index={index}\n          style={{\n            background: highlightedIndex === index ? 'lightgray' : 'white',\n            fontWeight: selectedIndex === index ? 'bold' : 'normal',\n          }}\n        >\n          {items[index].value}\n        </MenuItem>\n      )\n    }\n  </Menu>\n</Downscreen>\n")))}ne&&ne===Object(ne)&&Object.isExtensible(ne)&&Object.defineProperty(ne,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"MDXContent",filename:"docs/Introduction.mdx"}}),ne.isMDXComponent=!0}}]);
//# sourceMappingURL=docs-introduction.ce09c1962ad6beca544d.js.map